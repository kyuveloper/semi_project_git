<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.semiproject.pettales.review.dao.ReviewDAO">
    <resultMap id="review" type="com.semiproject.pettales.review.dto.ReviewDTO">
        <id property="reviewCode" column="REVIEW_CODE"/>
        <result property="companyGrade" column="COMPANY_GRADE"/>
        <result property="reviewContents" column="REVIEW_CONTENTS"/>
        <result property="reviewStatus" column="REVIEW_STATUS"/>
        <result property="registDate" column="REGIST_DATE"/>
        <result property="updateDate" column="UPDATE_DATE"/>
        <result property="companyCode" column="COMPANY_CODE"/>
        <result property="userCode" column="USER_CODE"/>
    </resultMap>

    <insert id="insertReview" parameterType="com.semiproject.pettales.review.dto.ReviewDTO">
        INSERT INTO COMPANY_REVIEW(
            REVIEW_CODE,
            COMPANY_GRADE,
            REVIEW_CONTENTS,
            REVIEW_STATUS,
            REGIST_DATE,
            UPDATE_DATE,
            COMPANY_CODE,
            USER_CODE
            )VALUES(
            NULL,
            #{companyGrade},
            #{reviewContents},
            'Y',
            DATE_FORMAT(now(), '%Y-%m-%d'),
            DATE_FORMAT(now(), '%Y-%m-%d'),
            '6',
            #{userCode}
            )
    </insert>
</mapper>