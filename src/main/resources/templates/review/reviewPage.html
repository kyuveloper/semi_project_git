<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://kit.fontawesome.com/e8f09b5de5.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="stylesheet" th:href="@{/css/review.css}"/>
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
    <link rel="stylesheet" th:href="@{/css/infoDetail.css}"/>
    <script defer th:src="@{/js/main.js}"></script>
    <title>Company Detail Information</title>
</head>
<body>
<header id="header_bar">
    <nav id="nav_bar">
        <div class="main_title">
            <a th:href="@{/}"><i class="fa-solid fa-dog"></i> PetTales</a>
        </div>
        <div class="main_menus">
            <div class="main_menu"><a th:href="@{/}">Home</a></div>
            <div class="main_menu"><a th:href="@{/comInfo}">견본</a></div>
            <div class="main_menu"><a th:href="@{/plan/make_plan}">계획 시작</a></div>
            <div class="main_menu"><a th:href="@{/map}">네이버 맵구현</a></div>
            <div class="main_menu"><a th:href="@{/anno}">공지사항</a></div>
        </div>
        <div class="main_mypage">
            <a href="#"><i class="fa-solid fa-user" style="color: #ffffff;"></i></a>
        </div>
    </nav>
</header>

<!--리뷰는 새로고침하면 보여지게 할 것 평점, 리뷰내용, 회사코드, 유저코드가 서버로 전달될것
    회사코드는 클릭한 회사코드, 유저코드는 로그인한 유저 코드로 받아 올 것-->

<!--리뷰 작성 페이지에서 리뷰를 작성하고 서버에 동기로 보낼 것이니 controller에서 요청을 받는다
    후에 service에서 리뷰를 insert하는 방법으로 처리한다
    xml에서 insert 쿼리를 만들고
    DAO랑 매핑시킨다-->


    <table>
        <tr>
            <th>평점</th>
            <th>리뷰내용</th>
        </tr>
        <tr th:each="review : ${reviews}">
            <td th:text="${review.companyGrade}"></td>
            <td th:text="${review.reviewContents}"></td>
        </tr>
    </table>

<div class="inputReview">
<form th:action="@{/review/reviewPage}" th:method="POST">
    평점 : <input type="text" name="companyGrade">
    내용 : <input type="text" name="reviewContents" size="40">
    <input type="hidden" name="userCode" th:value="${#authentication.principal.userCode}">
    <button type="submit">작성</button>
</form>
</div>

<footer>
    <div id="footer">
        <div class="comInfo">
            <div class="comLogo"><i class="fa-solid fa-dog"></i></div>
            <div class="comInfo_text">
                <p>
                    주식회사 펫테일 | 대표 김아무개<br>
                    사업자 등록 번호 123-456-78910<br>
                    서울특별시 구로구 경인로 557 삼영빌딩 4층<br>
                    contact@withmung.com<br>
                </p>
            </div>
        </div>
        <div class="etc">
            <p>
                <a href="">이용약관</a> | <a href="">개인정보처리지침</a> | <a href="">고객지원</a> | <a href="">1:1 문의</a>
            </p>
        </div>
        <div class="sns">
            <a th:href="@{http://www.facebook.com}" target="_blank"><i class="fa-brands fa-square-facebook fa-fade"></i></a>
            <a th:href="@{http://www.instagram.com}" target="_blank"><i class="fa-brands fa-instagram fa-fade"></i></a>
            <a th:href="@{http://www.youtube.com}" target="_blank"><i class="fa-brands fa-youtube fa-fade"></i></a>
        </div>
    </div>
</footer>
</body>
</html>