<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semi Project Main Page</title>
    <link rel="stylesheet" type="text/css" href="/css/adminpageall.css">

    <!-- 구글 아이콘 -->
    <script src="https://kit.fontawesome.com/e8f09b5de5.js" crossorigin="anonymous"></script>
    <!-- 부트스트랩 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- 메인 css -->
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
    <!-- plan css -->
    <link rel="stylesheet" th:href="@{/css/comInfo.css}" />
    <!-- 유저 css-->
    <link rel="stylesheet" href="/css/jihoCss.css">
    <!-- 계획표 페이지 -->
    <link rel="stylesheet" href="/css/plan.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" integrity="sha512-aOG0c6nPNzGk+5zjwyJaoRUgCdOrfSDhmMID2u4+OIslr0GjpLKo7Xm0Ao3xmpM4T8AmIouRkqwj1nrdVsLKEQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/css/datepicker.css" />
</head>
<body>
<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" integrity="sha512-uto9mlQzrs59VwILcLiRYeLKPPbS/bT71da/OEBYEwcdNUk8jYIy+D176RYoop1Da+f9mvkYrmj5MCLZWEtQuA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- 메인 js-->
<script defer th:src="@{/js/main.js}"></script>
<!-- plan js -->
<script defer src="/js/comInfo.js"></script>
<script defer src="/js/main.js"></script>
<script th:inline="javascript">
    /*<![CDATA[*/
    var errorMessage = /*[[${errorMessage?:'default'}]]*/ 'default';
    if (errorMessage !== 'default' && errorMessage !== null) {
        alert(errorMessage);
    }
    /*]]>*/
</script>

<header id="header_bar">
    <nav id="nav_bar">
        <div class="main_title">
            <a th:href="@{/}"><i class="fa-solid fa-dog"></i> PetTales</a>
        </div>
        <div class="main_menus">
            <div class="main_menu"><a th:href="@{/}">Home</a></div>
            <div class="main_menu"><a th:href="@{/comInfo}">Start</a></div>
            <div class="main_menu"><a th:href="@{/plan/make_plan}">Support</a></div>
            <div class="main_menu"><a th:href="@{/user/signup}">회원가입</a></div>
            <div class="main_menu"><a th:href="@{/auth/logout}">로그아웃</a></div>
            <div class="main_menu"><a href="#">Contact Us</a></div>
        </div>
        <div class="main_mypage">
            <a href="#"><i class="fa-solid fa-user" style="color: #ffffff;"></i></a>
        </div>
    </nav>
</header>



<div class="container" style="margin-top: 30px; margin-bottom: 30px;">
    <h1 class="text-center my-4">비밀번호 변경</h1>
    <hr class=" border-2 opacity-50">
    <div class="card border-0 shadow-lg rounded" style="margin-top: 50px; margin-bottom: 130px;">
        <div class="text-center">

    <form id="passwordChangeForm" th:action="@{/user/mypage/changepass}" method="post">
        <div class="form-group">
            <label for="oldPassword">현재 비밀번호</label>
            <input type="password" id="oldPassword" name="oldPassword" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="newPassword">새 비밀번호</label>
            <input type="password" id="newPassword" name="newPassword" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="confirmPassword">비밀번호 확인</label>
            <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" required>
            <small id="passwordHelp" class="form-text"></small>
        </div>
        <hr class=" border-2 opacity-0">
        <button type="submit" class="btn btn-primary" id="submitBtn" disabled style="background-color: #9f775e; border-color: #9f775e;">비밀번호 변경</button>
    </form>
    <div class="mt-5">
        <hr class=" border-2 opacity-0">
        <a th:href="@{/user/mypage}" class="btn btn-primary" style="background-color: #9f775e; border-color: #9f775e;">마이페이지 메인으로 돌아가기</a>
    </div>

    </div>
</div>
</div>
</div>


</div>
<script>
    $(document).ready(function(){
        $("#confirmPassword").keyup(function(){
            var password = $("#newPassword").val();
            var confirmPassword = $("#confirmPassword").val();

            if(password != "" && confirmPassword != ""){
                if(password == confirmPassword){
                    $("#passwordHelp").text("비밀번호가 일치합니다.").css("color","green");
                    $("#submitBtn").prop("disabled", false);
                }
                else{
                    $("#passwordHelp").text("비밀번호가 일치하지 않습니다.").css("color","red");
                    $("#submitBtn").prop("disabled", true);
                }
            }
        });
    });
</script>


<!--</th:block>-->
<footer>
    <div id="footer" style="position: relative;">
        <div class="comInfo">
            <div class="comLogo"><i class="fa-solid fa-dog"></i></div>
            <div class="comInfo_text">
                <p>
                    주식회사 위드명 | 대표 김아무개<br>
                    사업자 등록 번호 123-456-78910<br>
                    서울특별시 구로구 경인로 557 삼영빌딩 4층<br>
                    contact@withmung.com<br>
                </p>
            </div>
        </div>
        <div class="etc">
            <p>
                <a href="">이용약관</a> | <a href="">개인정보처리지침</a> | <a href="">고객지원</a> | <a href="">1:1 문의</a>
            </p>
        </div>
        <div class="sns">
            <a th:href="@{http://www.facebook.com}" target="_blank"><i class="fa-brands fa-square-facebook fa-fade"></i></a>
            <a th:href="@{http://www.instagram.com}" target="_blank"><i class="fa-brands fa-instagram fa-fade"></i></a>
            <a th:href="@{http://www.youtube.com}" target="_blank"><i class="fa-brands fa-youtube fa-fade"></i></a>
        </div>
    </div>
</footer>

<div th:if="${session.error}">
    <p th:text="${session.error}"></p>
</div>

<div th:if="${session.message}">
    <p th:text="${session.message}"></p>
</div>


</body>

</html>